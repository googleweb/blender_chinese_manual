

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ambient Occlusion &mdash; Blender参考手册</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="Blender参考手册" href="../../../index.html"/>
        <link rel="up" title="Lighting" href="index.html"/>
        <link rel="next" title="Indirect Lighting" href="indirect_lighting.html"/>
        <link rel="prev" title="Environment Lighting" href="ambient_light.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../contents.html" class="icon icon-home"> Blender 2.77 手册
          

          
            
            <img src="../../../_static/sidebar_logo.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="查找文献" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">入门指南</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_system/index.html">数据系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">建模</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../painting_sculpting/index.html">绘制与雕刻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rigging/index.html">骨骼装配</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">物理</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">渲染</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">简介</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Blender渲染引擎</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../materials/index.html">Materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../textures/index.html">纹理</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Lighting</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="introduction.html">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="lights/index.html">Lights</a></li>
<li class="toctree-l4"><a class="reference internal" href="shadows/index.html">Shadows</a></li>
<li class="toctree-l4"><a class="reference internal" href="volumetric_lights.html">Volumetric Lighting</a></li>
<li class="toctree-l4"><a class="reference internal" href="lamps/index.html">Lamps</a></li>
<li class="toctree-l4"><a class="reference internal" href="ambient_light.html">Environment Lighting</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Ambient Occlusion</a></li>
<li class="toctree-l4"><a class="reference internal" href="indirect_lighting.html">Indirect Lighting</a></li>
<li class="toctree-l4"><a class="reference internal" href="exposure.html">Exposure and Range</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../world/index.html">World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layers.html">渲染 Layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../passes.html">渲染 Passes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../motion_blur.html">Motion Blur</a></li>
<li class="toctree-l3"><a class="reference internal" href="../antialiasing.html">Anti-Aliasing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../post_processing/index.html">Post Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quality.html">渲染 Quality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../performance.html">Performance Considerations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cycles/index.html">Cycles渲染引擎</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output/index.html">渲染输出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_process/index.html">Post Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../freestyle/index.html">Freestyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workflows/index.html">Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl.html">OpenGL 渲染</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../compositing/index.html">合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_engine/index.html">游戏引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../preferences/index.html">用户首选项</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">术语</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">关于本手册</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../contents.html">Blender 2.77 手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../contents.html">文献</a> &raquo;</li>
      
          <li><a href="../../index.html">渲染</a> &raquo;</li>
      
          <li><a href="../index.html">Blender渲染引擎</a> &raquo;</li>
      
          <li><a href="index.html">Lighting</a> &raquo;</li>
      
    <li>Ambient Occlusion</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/render/blender_render/lighting/ambient_occlusion.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ambient-occlusion">
<h1>Ambient Occlusion<a class="headerlink" href="#ambient-occlusion" title="Permalink to this headline">¶</a></h1>
<p>Ambient Occlusion is a sophisticated ray-tracing calculation which simulates soft global
illumination shadows by faking darkness perceived in corners and at mesh intersections,
creases, and cracks, where ambient light is occluded, or blocked.</p>
<p>There is no such thing as AO in real life; AO is a specific not-physically-accurate
(but generally nice-looking) rendering trick.
It basically samples a hemisphere around each point on the face,
sees what proportion of that hemisphere is occluded by other geometry,
and shades the pixel accordingly.</p>
<p>It&#8217;s got nothing to do with light at all; it&#8217;s purely a rendering trick that tends to look
nice because generally in real life surfaces that are close together (like small cracks)
will be darker than surfaces that do not have anything in front of them, because of shadows,
dirt, etc.</p>
<p>The AO process, though, approximates this result;
it&#8217;s not simulating light bouncing around or going through things.
That is why AO still works when you do not have any lights in the scene,
and it&#8217;s why just switching on AO alone is a very bad way of &#8220;lighting&#8221; a scene.</p>
<p>You must have ray tracing enabled as a <em>渲染</em> panel option in the
<em>Shading</em> section for this to work.</p>
<p>You must have an ambient light color set as you desire. By default, the ambient light color
(world) is black, simulating midnight in the basement during a power outage.
Applying that color as ambient will actually darken all colors.
A good outdoor mid-day color is RGB(0.9, 0.9, 0.8)
which is a whitish yellow sunny kind of color on a bright-but-not-harshly-bright day.</p>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id1">
<img alt="../../../_images/lighting-ambientocclusion.jpg" src="../../../_images/lighting-ambientocclusion.jpg" />
<p class="caption"><span class="caption-text">The World panel with ambient color sliders highlighted.</span></p>
</div>
<dl class="docutils">
<dt>Factor</dt>
<dd>The strength of the AO effect, a multiplier for addition.</dd>
</dl>
<p>Ambient Occlusion is composited during the render. Two blending modes are available:</p>
<dl class="docutils">
<dt>Add</dt>
<dd>The pixel receives light according to the number of non-obstructed rays.
The scene is lighter. This simulates global illumination.</dd>
<dt>Multiply</dt>
<dd>Ambient occlusion is multiplied over the shading, making things darker.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <em>Multiply</em> is chosen, there must be other light sources; otherwise the scene will be pitch black.
In the other two cases the scene is lit even if no explicit light is present, just from the AO effect.
Although many people like to use AO alone as a quick shortcut to light a scene,
the results it gives will be muted and flat, like an overcast day. In most cases,
it is best to light a scene properly with Blender&#8217;s standard lamps, then use AO on top of that,
set to <em>Multiply</em>, for the additional details and contact shadows.</p>
</div>
<p>The <em>Gather</em> panel contains settings for the ambient occlusion quality.
Note that these settings also apply to Environment Lighting and Indirect Lighting.</p>
<p>Ambient occlusion has two main methods of calculation:
<em>Raytrace</em> and <em>Approximate</em>.</p>
<div class="section" id="gather">
<h3>Gather<a class="headerlink" href="#gather" title="Permalink to this headline">¶</a></h3>
<div class="section" id="raytrace">
<h4>Raytrace<a class="headerlink" href="#raytrace" title="Permalink to this headline">¶</a></h4>
<div class="figure" id="id2">
<img alt="../../../_images/lighting-ambientocclusion-gather.jpg" src="../../../_images/lighting-ambientocclusion-gather.jpg" />
<p class="caption"><span class="caption-text">The Amb Occ panel, Raytrace method.</span></p>
</div>
<p>The <em>Raytrace</em> method gives the more accurate, but also the more noisy results.
You can get a nearly noiseless image, but at the cost of render time... It is the only option if
you want to use the colors of your sky&#8217;s texture.</p>
<dl class="docutils">
<dt>Attenuation</dt>
<dd>Length of rays defines how far away other faces may be and still have an occlusion effect.
The longer this distance, the greater impact that far-away geometry will have on the occlusion effect.
A high <em>Distance</em> value also means that the renderer has to search a greater area for geometry that occludes,
so render time can be optimized by making this distance as short as possible for the visual effect that you want.</dd>
</dl>
<p><em>Sampling</em></p>
<blockquote>
<div><dl class="docutils">
<dt>Samples</dt>
<dd>The number of rays used to detect if an object is occluded.
Higher numbers of samples give smoother and more accurate results, at the expense of slower render times.
The default value of 5 is usually good for previews.
The actual number of rays shot out is the square of this number (i.e.
<em>Samples</em> at 5 means 25 rays). Rays are shot at the hemisphere according to a random pattern
(determined by the sample methods described above); this causes differences in the occlusion pattern of
neighboring pixels unless the number of shot rays is big enough to produce good statistical data.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last figure" id="id3">
<a class="reference internal image-reference" href="../../../_images/ambientocclusion-3samples.jpg"><img alt="../../../_images/ambientocclusion-3samples.jpg" src="../../../_images/ambientocclusion-3samples.jpg" style="width: 200px;" /></a>
<p class="caption"><span class="caption-text">Ambient Occlusion with 3 Samples.</span></p>
</div>
</td>
<td><div class="first last figure" id="id4">
<a class="reference internal image-reference" href="../../../_images/ambientocclusion-6samples.jpg"><img alt="../../../_images/ambientocclusion-6samples.jpg" src="../../../_images/ambientocclusion-6samples.jpg" style="width: 200px;" /></a>
<p class="caption"><span class="caption-text">Ambient Occlusion with 6 Samples.</span></p>
</div>
</td>
<td><div class="first last figure" id="id5">
<a class="reference internal image-reference" href="../../../_images/ambientocclusion-12samples.jpg"><img alt="../../../_images/ambientocclusion-12samples.jpg" src="../../../_images/ambientocclusion-12samples.jpg" style="width: 200px;" /></a>
<p class="caption"><span class="caption-text">Ambient Occlusion with 12 Samples.</span></p>
</div>
</td>
</tr>
</tbody>
</table>
<p>You have the three standard sampling options:</p>
<dl class="docutils">
<dt>Constant QMC</dt>
<dd>The base Quasi-Monte Carlo, gives evenly and randomly distributed rays.</dd>
<dt>Adaptive QMC</dt>
<dd><p class="first">An improved method of QMC,
that tries to determine when the sample rate can be lowered or the sample skipped, based on its two settings:</p>
<dl class="last docutils">
<dt>Threshold</dt>
<dd>The limit below which the sample is considered fully occluded (&#8220;black&#8221;)
or un-occluded (&#8220;white&#8221;), and skipped.</dd>
<dt>Adapt to Speed</dt>
<dd>A factor to reduce AO sampling on fast-moving pixels.
As it uses the <em>Vec</em> render pass, that must also be enabled
(see <a class="reference internal" href="../../post_process/layers.html"><span class="doc">render passes page</span></a>).</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>About QMC</p>
<p>See also the
<a class="reference internal" href="shadows/raytraced_properties.html#render-blender-internal-quasi-monte-carlo"><span class="std std-ref">raytraced shadows page</span></a>
for more info about the Quasi-Monte Carlo sampling method.</p>
<dl class="last docutils">
<dt>Constant Jittered</dt>
<dd><p class="first">The historical sample method, more prone to &#8220;bias&#8221; artifacts...</p>
<dl class="last docutils">
<dt>Bias</dt>
<dd><p class="first">The angle (in radians) the hemisphere will be made narrower
(i.e. the hemisphere will no longer be a real hemisphere: its section will no longer be a semicircle,
but an arc of a circle of: pi - <em>bias</em> radians).</p>
<p class="last">The bias setting allows you to control how smooth &#8220;smooth&#8221; faces will appear in AO rendering.
Since AO occurs on the original faceted mesh,
it is possible that the AO light makes faces visible even on objects with &#8220;smooth&#8221; on.
This is due to the way AO rays are shot, and can be controlled with the <em>Bias</em> slider.
Note that while it might even happen with QMC sampling methods,
it is much more visible with the <em>Constant Jittered</em> one - and anyway,
you have no <em>Bias</em> option for QMC.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last figure" id="id6">
<a class="reference internal image-reference" href="../../../_images/bi_ambientocclusion-bias0-05.jpg"><img alt="../../../_images/bi_ambientocclusion-bias0-05.jpg" src="../../../_images/bi_ambientocclusion-bias0-05.jpg" style="width: 200px;" /></a>
<p class="caption"><span class="caption-text">24×24 UV Sphere with Bias: 0.05 (default).
Note the facets on the sphere&#8217;s surface even though it is set to smooth.</span></p>
</div>
</td>
<td><div class="first last figure" id="id7">
<a class="reference internal image-reference" href="../../../_images/bi_ambientocclusion-bias0-15.jpg"><img alt="../../../_images/bi_ambientocclusion-bias0-15.jpg" src="../../../_images/bi_ambientocclusion-bias0-15.jpg" style="width: 200px;" /></a>
<p class="caption"><span class="caption-text">Raising the Bias to 0.15 removes the faceted artifacts.</span></p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="approximate">
<h4>Approximate<a class="headerlink" href="#approximate" title="Permalink to this headline">¶</a></h4>
<div class="figure" id="id8">
<img alt="../../../_images/lighting-ambientocclusion-gather2.jpg" src="../../../_images/lighting-ambientocclusion-gather2.jpg" />
<p class="caption"><span class="caption-text">The Amb Occ panel, Approximate method.</span></p>
</div>
<p>The <em>Approximate</em> method gives a much smoother result for the same amount of render
time, but as its name states, it is only an approximation of the <em>Raytrace</em> method,
which implies it might produce some artifacts - and it cannot use the sky&#8217;s texture as the
base color</p>
<p>This method seems to tend to &#8220;over-occlude&#8221; the results.
You have two complementary options to reduce this problem:</p>
<dl class="docutils">
<dt>Passes</dt>
<dd>Set the number of pre-processing passes, between (0 to 10) passes.
Keeping the pre-processing passes high will increase render time
but will also clear some artifacts and over-occlusions.</dd>
<dt>Error</dt>
<dd>This is the tolerance factor for approximation error
(i.e. the max allowed difference between approximated result and fully computed result).
The lower, the slower the render, but the more accurate the results...
Ranges between (0.0 to 10.0), defaults to 0.250.</dd>
<dt>Pixel Cache</dt>
<dd>When enabled, it will keep values of computed pixels to interpolate it with its neighbors.
This further speeds up the render, generally without visible loss in quality...</dd>
<dt>Correction</dt>
<dd>A correction factor to reduce over-occlusion. Ranges between (0.0 to 1.0) correction.</dd>
</dl>
</div>
</div>
<div class="section" id="common-settings">
<h3>Common 设置<a class="headerlink" href="#common-settings" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Falloff</dt>
<dd><p class="first">When activated, the distance to the occluding objects will influence the &#8220;depth&#8221; of the shadow.
This means that the further away the occluding geometry is, the lighter its &#8220;shadow&#8221; will be.
This effect only occurs when the <em>Strength</em> factor is higher than 0.0.
It mimics light dispersion in the atmosphere...</p>
<dl class="last docutils">
<dt>Strength</dt>
<dd>Controls the attenuation of the shadows enabled with <em>Use Falloff</em>.
Higher values give a shorter shadow, as it falls off more quickly
(corresponding to a more foggy/dusty atmosphere).
Ranges from (0.0 to 10.0), default is 0.0, which means no falloff.</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="technical-details">
<h2>Technical Details<a class="headerlink" href="#technical-details" title="Permalink to this headline">¶</a></h2>
<p>Ambient occlusion is calculated by casting rays from each visible point,
and by counting how many of them actually reach the sky, and how many, on the other hand,
are obstructed by objects.</p>
<p>The amount of light on the point is then proportional to the number of rays which have
&#8220;escaped&#8221; and have reached the sky. This is done by firing a hemisphere of shadow rays around.
If a ray hits another face (it is occluded) then that ray is considered &#8220;shadow&#8221;,
otherwise it is considered &#8220;light&#8221;.
The ratio between &#8220;shadow&#8221; and &#8220;light&#8221; rays defines how bright a given pixel is.</p>
</div>
<div class="section" id="hints">
<h2>Hints<a class="headerlink" href="#hints" title="Permalink to this headline">¶</a></h2>
<p>Ambient occlusion is a ray-tracing technique (at least with the <em>Raytrace</em> method), so it tends to be slow.
Furthermore, performance severely depends on octree size,
see the <a class="reference internal" href="../../index.html"><span class="doc">rendering chapter</span></a> for more information.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indirect_lighting.html" class="btn btn-neutral float-right" title="Indirect Lighting" accesskey="n">下一页 <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ambient_light.html" class="btn btn-neutral" title="Environment Lighting" accesskey="p"><span class="fa fa-arrow-circle-left"></span> 上一页</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright : This page is licensed under a CC-BY-SA 4.0 Intl. License.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.77',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1418081-1', 'auto');
  ga('send', 'pageview');

</script>
</div>


</body>
</html>