

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Z-Combine Node &mdash; Blender参考手册</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="Blender参考手册" href="../../../index.html"/>
        <link rel="up" title="Color 节点" href="index.html"/>
        <link rel="next" title="Converter 节点" href="../converter/index.html"/>
        <link rel="prev" title="Tone Map Node" href="tone_map.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../contents.html" class="icon icon-home"> Blender 2.77 手册
          

          
            
            <img src="../../../_static/sidebar_logo.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="查找文献" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">入门指南</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_system/index.html">数据系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">建模</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../painting_sculpting/index.html">绘制与雕刻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rigging/index.html">骨骼装配</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">物理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../render/index.html">渲染</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">合成</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">简介</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">节点类型</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../input/index.html">输入节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output/index.html">Output 节点</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Color 节点</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="alpha_over.html">Alpha Over Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="bright_contrast.html">Bright/Contrast Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="color_balance.html">Color Balance</a></li>
<li class="toctree-l4"><a class="reference internal" href="color_correction.html">Color Correction Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="gamma.html">Gamma Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="hue_correct.html">Hue Correct Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="hue_saturation.html">Hue Saturation Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="invert.html">Invert Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="mix.html">Mix Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="rgb_curves.html">RGB 曲线 Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="tone_map.html">Tone Map Node</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Z-Combine Node</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../converter/index.html">Converter 节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../filter/index.html">Filter 节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vector/index.html">Vector 节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../matte/index.html">Matte 节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../distort/index.html">Distort 节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../groups.html">Node Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layout/index.html">Layout 节点</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_engine/index.html">游戏引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../preferences/index.html">用户首选项</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">术语</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">关于本手册</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../contents.html">Blender 2.77 手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../contents.html">文献</a> &raquo;</li>
      
          <li><a href="../../index.html">合成</a> &raquo;</li>
      
          <li><a href="../index.html">节点类型</a> &raquo;</li>
      
          <li><a href="index.html">Color 节点</a> &raquo;</li>
      
    <li>Z-Combine Node</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/compositing/types/color/z_combine.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="z-combine-node">
<h1>Z-Combine Node<a class="headerlink" href="#z-combine-node" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right" id="id1">
<a class="reference internal image-reference" href="../../../_images/compositing_nodes_zcombine.png"><img alt="../../../_images/compositing_nodes_zcombine.png" src="../../../_images/compositing_nodes_zcombine.png" style="width: 150px;" /></a>
<p class="caption"><span class="caption-text">Z Combine Node.</span></p>
</div>
<p>The Z-Combine node combines two images based on their Z-depth maps.
It overlays the images using the provided Z values to
detect which parts of one image are in front of the other.</p>
<div class="section" id="inputs">
<h2>输入s<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>图像</dt>
<dd>The background image.</dd>
<dt>Z</dt>
<dd>Z-depth of the background image.</dd>
<dt>图像</dt>
<dd>The foreground image.</dd>
<dt>Z</dt>
<dd>Z-depth of the foreground image.</dd>
</dl>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Use Alpha</dt>
<dd>The chosen 图像 pixel alpha channel is also carried over.
If a pixel is partially or totally transparent,
the result of the Z-Combine will also be partially transparent;
in which case the background image will show through the foreground (chosen) pixel.</dd>
<dt>Anti-Alias Z</dt>
<dd>Applies <a class="reference internal" href="../../../glossary/index.html#term-anti-aliasing"><span class="xref std std-term">Anti-Aliasing</span></a> to avoid artifacts at sharp edges or areas with a high contrast.</dd>
</dl>
</div>
<div class="section" id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>图像</dt>
<dd>If both Z values are equal, it uses the foreground image.
Whichever Z-value is less decides which image pixel is used.
See <a class="reference internal" href="../../../glossary/index.html#term-z-buffer"><span class="xref std std-term">Z-buffer</span></a>.</dd>
<dt>Z</dt>
<dd>The combined Z-depth, which allows to thread multiple Z-combines together.</dd>
</dl>
</div>
<div class="section" id="examples">
<h2>例子<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../../../_images/node-zcombine_ex_alpha.jpg"><img alt="../../../_images/node-zcombine_ex_alpha.jpg" src="../../../_images/node-zcombine_ex_alpha.jpg" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Alpha and Z-Combine node.</span></p>
</div>
<p>This can be obtained by making an AlphaOver of two Z-Combine, one normal,
the other having inverted (reversed?) Z-values as inputs, obtained using for each of them a
<em>MapValue</em> node with a <em>Size</em> field set to -1.0:</p>
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../../../_images/compositing-z-offset-example.jpg"><img alt="../../../_images/compositing-z-offset-example.jpg" src="../../../_images/compositing-z-offset-example.jpg" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Choosing closest pixels.</span></p>
</div>
<p>In the example to the right, render output from two scenes are mixed using the Z-Offset node,
one from a sphere of size 1.30, and the other a cube of size 1.00.
The sphere and square are located at the same place. The cube is tipped forward,
so the corner in the center is closer to the camera than the sphere surface;
so Z-Offset chooses to use the cube&#8217;s pixels. But the sphere is slightly larger
(a size of 1.30 versus 1.00), so it does not fit totally inside the cube. At some point,
as the cube&#8217;s sides recede back away from the camera, the sphere&#8217;s sides are closer.
When this happens, Z-offset uses the sphere&#8217;s pixels to form the resulting picture.</p>
<p>This node can be used to combine a foreground with a background matte painting.
Walt Disney pioneered the use of multi-plane mattes, where three or four partial mattes were
painted on glass and placed on the left and right at different Z positions; minimal camera
moves to the right created the illusion of depth as Bambi moved through the forest.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Valid 输入</p>
<p class="last">Z 输入 Sockets do not accept fixed values; they must get a vector set (see Map Value node).
图像 输入 Sockets will not accept a color since it does not have UV coordinates.</p>
</div>
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../../../_images/compositing-z-offset-ex_images.jpg"><img alt="../../../_images/compositing-z-offset-ex_images.jpg" src="../../../_images/compositing-z-offset-ex_images.jpg" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Mix and Match 图像s.</span></p>
</div>
<p>The Z-Combine can be used to merge two images as well,
using the Z-values put out by two render layers.
Using the Z-values from the sphere and cube scenes above, but threading different images,
yields the example to the right.</p>
<div class="figure" id="id5">
<a class="reference internal image-reference" href="../../../_images/node-zcombine_example.jpg"><img alt="../../../_images/node-zcombine_example.jpg" src="../../../_images/node-zcombine_example.jpg" style="width: 300px;" /></a>
<p class="caption"><span class="caption-text">Z-Combine in action.</span></p>
</div>
<p>In this node setup a render scene is mixed with a flat image. In the side view of the scene,
the purple cube is 10 units away from the camera, and the gray ball is 20.
The 3D游标 is about 15 units away from the camera. The image is Z-in at a location of 15,
thus inserting it in-between the cube and the ball.
The resulting image appears to have the cube on the table.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Invisible Man Effect</p>
<p class="last">If a foreground image with a higher Alpha than the background,
is then mixed in the Z-combine with a slightly magnified background,
the outline of the transparent area will distort the background,
enough to make it look like seeing a part of the background through
an invisible yet Fresnel-lens object.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../converter/index.html" class="btn btn-neutral float-right" title="Converter 节点" accesskey="n">下一页 <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tone_map.html" class="btn btn-neutral" title="Tone Map Node" accesskey="p"><span class="fa fa-arrow-circle-left"></span> 上一页</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright : This page is licensed under a CC-BY-SA 4.0 Intl. License.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.77',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1418081-1', 'auto');
  ga('send', 'pageview');

</script>
</div>


</body>
</html>